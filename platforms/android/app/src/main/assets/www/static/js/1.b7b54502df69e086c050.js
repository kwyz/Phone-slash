webpackJsonp([1],{"0sB/":function(t,e,a){t.exports=a.p+"static/img/4.4cee97e.png"},"56cH":function(t,e){t.exports={players:{player:{name:"Player",hp:100},enemy:{name:"Enemy",hp:100}},activity:[{player:"player",action:"hit",lucky:!0,damage:20},{player:"player",action:"defence",lucky:!1,damage:20},{player:"player",action:"hit",lucky:!1,damage:10},{player:"player",action:"defence",lucky:!1,damage:10},{player:"player",action:"hit",lucky:!1,damage:10},{player:"player",action:"defence",lucky:!0,damage:0},{player:"player",action:"hit",lucky:!1,damage:10},{player:"player",action:"defence",lucky:!1,damage:10},{player:"player",action:"hit",lucky:!0,damage:20},{player:"player",action:"defence",lucky:!1,damage:20},{player:"player",action:"hit",lucky:!1,damage:10},{player:"player",action:"defence",lucky:!1,damage:10},{player:"player",action:"hit",lucky:!1,damage:10},{player:"player",action:"defence",lucky:!0,damage:0},{player:"player",action:"hit",lucky:!1,damage:10},{player:"player",action:"defence",lucky:!1,damage:10},{player:"player",action:"hit",lucky:!1,damage:10},{player:"player",action:"defence",lucky:!0,damage:0},{player:"player",action:"hit",lucky:!1,damage:10},{player:"player",action:"defence",lucky:!1,damage:10},{player:"player",action:"hit",lucky:!0,damage:20},{player:"player",action:"defence",lucky:!1,damage:20}],results:[{player:"enemy",result:"Win",expirience:"+6XP"},{player:"player",result:"Lose",expirience:"+1XP"}]}},"9bBU":function(t,e,a){a("mClu");var n=a("FeBl").Object;t.exports=function(t,e,a){return n.defineProperty(t,e,a)}},"AOa+":function(t,e,a){t.exports=a.p+"static/img/6.cd3aec4.png"},C4MV:function(t,e,a){t.exports={default:a("9bBU"),__esModule:!0}},JVhO:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Xxa5"),r=a.n(n),i=a("exGp"),s=a.n(i),c=a("bOdI"),l=a.n(c),o=a("56cH"),u=a.n(o),d=a("gyMJ"),p={},g=0,y={name:"play",data:function(){var t;return t={figthResults:[],Interval:"",health:100,enemyStatus:"",playerStatus:""},l()(t,"Interval",{}),l()(t,"gameStatus",""),l()(t,"experienceEarned",""),l()(t,"gameStart",!1),l()(t,"style",{alignItems:"center",backgroundImage:a("lAzt"),backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"100%"}),l()(t,"enemyExist",!1),t},created:function(){this.getCharConfig(),this.changeStatus()},beforeDestroy:function(){window.clearTimeout(p),window.clearInterval(this.Interval),Object(d.b)("LeaveGame",{id:window.device.serial})},updated:function(){this.health<=0&&(this.health=100,this.figthResults=[])},computed:{getCharacterAvatarNumber:function(){return localStorage.characterNumber},getCharacterAvatar:function(){return a("X8tQ")("./"+this.getCharacterAvatarNumber+".png")},getRandomCharacter:function(){return a("X8tQ")("./"+Math.ceil(7*Math.random())+".png")},getEnemyStatus:function(){return this.enemyStatus},getPlayerStatus:function(){return this.playerStatus}},methods:{processData:function(t){console.log(t.Value);var e=t.Value.activity,n=0===t.Value.players.player.hp?t.Value.players.enemy.hp:100,r=0===t.Value.players.enemy.hp?t.Value.players.enemy.hp:100,i=this,s=0;this.gameStart=!0,this.Interval=setInterval(function(){if(s<e.length){var t=e[s];i.setPlayersStatus(t),"defence"!==t.action||t.lucky?"hit"===t.action&&t.lucky&&(r=i.calcEnemyHealth(r,t.damage)):n=i.calcPlayerHealth(n,t.damage),s++}else(r<=0||n<=0)&&(n<=0&&document.getElementById("heartPlayer").setAttribute("src",a("ZkgZ")),r<=0&&document.getElementById("heartEnemy").setAttribute("src","@/assets/interface/HP/basic/background.png"),clearInterval(i.Interval),i.gameStatus="You "+u.a.results[1].result,i.experienceEarned="You earn "+u.a.results[1].expirience,i.enemyStatus="",i.playerStatus="",i.gameStart=!1,console.log("Taken damage "+g))},300)},resetHealth:function(){document.getElementById("playerHP").style.width="100px",document.getElementById("enemyHP").style.width="100px",document.getElementById("heartPlayer").setAttribute("src",a("xtuq")),document.getElementById("heartEnemy").setAttribute("src",a("xtuq"))},calcPlayerHealth:function(t,e){var a=t-e;return g+=e,document.getElementById("playerHP").style.width=a+"px",a},calcEnemyHealth:function(t,e){var a=t-e;return document.getElementById("enemyHP").style.width=a+"px",a},setPlayersStatus:function(t){"defence"!==t.action||t.lucky?"defence"===t.action&&t.lucky?(this.playerStatus="Defence",this.enemyStatus="Miss"):"hit"===t.action&&t.lucky?(this.enemyStatus="- "+t.damage,this.playerStatus=""):"hit"!==t.action||t.lucky||(this.enemyStatus="Defence",this.playerStatus="Miss"):(this.playerStatus="- "+t.damage,this.enemyStatus="")},cancelState:function(){this.figthResults=[],this.Interval="",this.health=100,this.enemyStatus="",this.playerStatus="",this.Interval={},this.gameStatus="",this.experienceEarned="",this.gameStart=!1,this.style={alignItems:"center",backgroundImage:a("lAzt"),backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"100%"}},cancelGame:function(){this.cancelState(),this.$router.push({path:"/"})},reloadGame:function(){var t=this;return s()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.resetHealth(),setTimeout(function(){t.cancelState(),t.processData()},2e3);case 2:case"end":return e.stop()}},e,t)}))()},getCharConfig:function(){var t=this;setTimeout(s()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.geolocation.getCurrentPosition(function(e){var a=e.coords.latitude,n=e.coords.longitude,r="GetCharacter?id="+window.device.serial+"&longitude="+n+"&latitude="+a;return Object(d.a)(r).then(function(e){t.health=e.data.Health}).catch(function(t){console.log(t)})});case 2:case"end":return e.stop()}},e,this)})),1e3)},changeStatus:function(){var t=this;return s()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,e.next=3,navigator.geolocation.getCurrentPosition(function(t){var e=t.coords.latitude,n=t.coords.longitude,r="ChangeStatus?id="+window.device.serial+"&status=1&longitude="+n+"&latitude="+e;return Object(d.a)(r).then(function(t){a.health=t.data.Health,a.searchOponent()}).catch(function(t){console.log(t)})});case 3:case"end":return e.stop()}},e,t)}))()},searchOponent:function(){var t=this;return s()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,e.next=3,navigator.geolocation.getCurrentPosition(function(t){var e=t.coords.latitude,n=t.coords.longitude,r="SearchOpponent?id="+window.device.serial+"&longitude="+n+"&latitude="+e;Object(d.a)(r).then(function(t){200!==t.status?(a.enemyExist=!1,p=setTimeout(function(){a.searchOponent()},2e3)):200===t.status&&(a.enemyExist=!0,p=setTimeout(function(){a.processData(t.data)},2e3))})});case 3:case"end":return e.stop()}},e,t)}))()}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h-100 flex-grow-1 backgound-game"},[t.enemyExist?n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"offset-1 col-10"},[t._m(0),t._v(" "),n("div",{staticClass:"col mt-2"},[t.gameStart?n("div",{staticClass:"d-flex justify-content-between pt-4"},[n("span",{staticClass:"mr-5 pr-3 text-warning ml-5"},[t._v(t._s(t.playerStatus))]),t._v(" "),n("span",{staticClass:"mr-5 pr-3 text-warning"},[t._v(t._s(t.enemyStatus))])]):n("div",{staticClass:"d-flex justify-content-between pt-4"},[n("span",{staticClass:"mr-5 pr-3 text-warning ml-5 pt-3 pb-2"},[t._v(t._s(t.playerStatus))]),t._v(" "),n("span",{staticClass:"mr-5 pr-3 text-warning pt-2 pb-2"},[t._v(t._s(t.enemyStatus))])])]),t._v(" "),n("div",{staticClass:"col pb-2"},[n("div",{staticClass:"d-flex justify-content-between"},[n("img",{attrs:{src:t.getCharacterAvatar,height:"100px;"}}),t._v(" "),n("img",{staticClass:"enemy mr-3",attrs:{src:t.getRandomCharacter,height:"100px;"}})])]),t._v(" "),t.gameStart?t._e():n("div",{staticClass:"col pb-1"},[n("div",{staticClass:"d-flex flex-wrap mr-4"},[n("div",{staticClass:"text-warning h4 col-12"},[t._v(t._s(t.gameStatus))]),t._v(" "),n("div",{staticClass:"text-warning h4 col-12"},[t._v(t._s(t.experienceEarned))]),t._v(" "),n("div",{staticClass:"text-warning h4 offset-1 col-10 d-flex justify-content-between"},[n("img",{staticStyle:{height:"50px"},attrs:{src:a("NSaZ")},on:{click:function(e){return t.cancelGame()}}}),t._v(" "),n("img",{staticStyle:{height:"50px"},attrs:{src:a("SP4G")},on:{click:function(e){return t.reloadGame()}}})])])])])])]):n("div",{staticClass:"container"},[t._m(1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col mt-3"},[e("div",{staticClass:"d-flex justify-content-between"},[e("img",{staticClass:"ml-4",staticStyle:{"z-index":"12"},attrs:{src:a("xtuq"),height:"35px;",id:"heartPlayer"}}),this._v(" "),e("div",{staticClass:" mr-2 ",attrs:{id:"playerHP"}}),this._v(" "),e("div",{staticClass:" ml-5 ",attrs:{id:"enemyHP"}}),this._v(" "),e("img",{staticClass:"mr-5",staticStyle:{"z-index":"12"},attrs:{src:a("xtuq"),height:"35px;",id:"heartEnemy"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row h-100"},[e("div",{staticClass:"col-12 d-flex justify-content-center align-items-center"},[e("div",{staticClass:"spinner-border text-warning",attrs:{role:"status"}},[e("div",{staticClass:"sr-only"})]),this._v(" "),e("div",{staticClass:"text-warning h4 ml-3"},[this._v("Searching for enemy...")])])])}]};var m=a("VU/8")(y,h,!1,function(t){a("joqZ")},null,null);e.default=m.exports},NSaZ:function(t,e,a){t.exports=a.p+"static/img/close.b5137c8.png"},SP4G:function(t,e,a){t.exports=a.p+"static/img/reload.b39a735.png"},X8tQ:function(t,e,a){var n={"./1.png":"grdr","./2.png":"nNBK","./3.png":"xqWn","./4.png":"0sB/","./5.png":"sDZJ","./6.png":"AOa+"};function r(t){return a(i(t))}function i(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}r.keys=function(){return Object.keys(n)},r.resolve=i,t.exports=r,r.id="X8tQ"},ZkgZ:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAZ0lEQVQ4T93SwQ3AIAgF0LoG+8/GGjaYYCgFPyYemnpFnpFPuw6cpgYRde8xc6k+LkWAggKhOkTQb+WRPyJouNlcNL0Z4S5k438gVcgC0vNCEOSBFMmgCFgiHsoAiCi0AkoIWvtvITfJYzwSpVtP7gAAAABJRU5ErkJgggAA"},bOdI:function(t,e,a){"use strict";e.__esModule=!0;var n,r=a("C4MV"),i=(n=r)&&n.__esModule?n:{default:n};e.default=function(t,e,a){return e in t?(0,i.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},grdr:function(t,e,a){t.exports=a.p+"static/img/1.0945cfe.png"},joqZ:function(t,e){},lAzt:function(t,e,a){t.exports=a.p+"static/img/playBackground.0df566d.png"},mClu:function(t,e,a){var n=a("kM2E");n(n.S+n.F*!a("+E39"),"Object",{defineProperty:a("evD5").f})},nNBK:function(t,e,a){t.exports=a.p+"static/img/2.62d6615.png"},sDZJ:function(t,e,a){t.exports=a.p+"static/img/5.8fd7a76.png"},xqWn:function(t,e,a){t.exports=a.p+"static/img/3.8ccdbf9.png"},xtuq:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAwUlEQVQ4T2NkoAJghJkxU1Dwv4ioKIqRwbduweUPGRn9R7fP7tw5sDyYABkAU4DNoLVqamB5UR4eDHeDDMIwBKQK3SBknUHr1oG5h+PiwDTckCoGhv/ygoIothAyCKshIBNIMQjmNRSXwJxBqkFwQ0AGgLxEqkGw2INHIakGIUc/iiHEGoRsADydoEc+Pq+lv3+PYTGGAMxAbAZhMwCnS7AZ1AZN3RhJFpbssUkgG4TPAIIuwWc4shzOMCHWAKq5BAA4fT4SurMaMgAAAABJRU5ErkJgggAA"}});
//# sourceMappingURL=1.b7b54502df69e086c050.js.map